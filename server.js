const TelegramBot = require('node-telegram-bot-api');
// const db = require('./db');
const fs = require('fs');
const { text } = require('express');
const token = '7278940652:AAGVI8rk5bfTWnlFblHGyFLKQ2P0V31lQNU';

const bot = new TelegramBot(token, {polling: true});

bot.onText(/\/start/, (msg) => {
    // const chatId = msg.chat.id;
    // const userName = msg.chat.first_name
    // bot.sendMessage(chatId, `ðŸª·Ø³Ù„Ø§Ù… ${userName} Ø¹Ø²ÛŒØ² Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒðŸª·\n\n âšœï¸Ù„Ø·ÙØ§ Ú©Ù„Ù…Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ø¨ÙØ±Ø³ØªÛŒØ¯: `);
    // console.log(msg);
    start(msg);
})

bot.onText(/\/guidance/, (msg) => {
    const chatId = msg.chat.id;
    const inlinekeyboard = {
        reply_markup : {
            inline_keyboard : [
                [{text : 'Ø¨Ø§Ø²Ú¯Ø´Øª' , callback_data : '/start'}]
            ]
        }
    }
    bot.sendMessage(chatId, `ØªÙˆØ¬Ù‡ â€¼ï¸

ðŸ¤– Ø§ÛŒÙ† Ø±Ø¨Ø§ØªØŒ ÛŒÚ© Ø±Ø¨Ø§Øª Ø¬Ø³ØªØ¬ÙˆÚ¯Ø± Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ Ø¨Ù‡ Ø±Ø§Ø­ØªÛŒ Ø³Ø§Ø¨Ù„ÛŒÙ…ÛŒÙ†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒØ¯! Ø§Ú¯Ø± Ø¨Ù‡ Ø¯Ù†Ø¨Ø§Ù„ Ø³Ø§Ø¨Ù„ÛŒÙ…ÛŒÙ†Ø§Ù„ Ø®Ø§ØµÛŒ Ù‡Ø³ØªÛŒØ¯ØŒ ØªÙ†Ù‡Ø§ Ú©Ø§ÙÛŒ Ø§Ø³Øª Ú©Ù„Ù…Ù‡ Ú©Ù„ÛŒØ¯ÛŒ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ Ù…ÙˆØ¶ÙˆØ¹ Ø³Ø§Ø¨Ù„ÛŒÙ…ÛŒÙ†Ø§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯. ðŸ©·

Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù…Ø«Ø§Ù„ØŒ Ø§Ú¯Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø³Ø§Ø¨Ù„ÛŒÙ…ÛŒÙ†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ ðŸ‘ Ú†Ø´Ù… Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒØ¯ØŒ Ú©Ø§ÙÛŒ Ø§Ø³Øª Ú©Ù„Ù…Ù‡ "Ú†Ø´Ù…" Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª Ø¨ÙØ±Ø³ØªÛŒØ¯.

Ø§ÛŒÙ† Ø±Ø¨Ø§Øª Ø¨Ù‡ Ø·ÙˆØ± Ø®ÙˆØ¯Ú©Ø§Ø± ØªÙ…Ø§Ù…ÛŒ Ø³Ø§Ø¨Ù„ÛŒÙ…ÛŒÙ†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ Ú©Ù„Ù…Ù‡ Ú©Ù„ÛŒØ¯ÛŒ Ø´Ù…Ø§ Ø±Ø§ Ø¬Ø³ØªØ¬Ùˆ Ú©Ø±Ø¯Ù‡ Ùˆ Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ·Ù‡ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§ÛŒÙ† ÙØ±Ø¢ÛŒÙ†Ø¯ Ø³Ø±ÛŒØ¹ Ùˆ Ø¢Ø³Ø§Ù† Ø§Ø³Øª Ùˆ Ø´Ù…Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ù‡ Ø³Ø±Ø¹Øª Ø¨Ù‡ Ù…Ø­ØªÙˆØ§ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø¯Ø³ØªØ±Ø³ÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒØ¯.

ðŸª· Ø§ÛŒÙ† Ø±Ø¨Ø§Øª Ø¬Ø³ØªØ¬Ùˆ Ø¨Ù‡ Ú†Ù†Ù„ OZHAN ØªØ¹Ù„Ù‚ Ø¯Ø§Ø±Ø¯ Ùˆ Ø¨Ø±Ø§ÛŒ Ø±Ø§Ø­ØªÛŒ Ø´Ù…Ø§ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª. ðŸª·

Ù„Ø·ÙØ§Ù‹ ØªÙˆØ¬Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ Ú©Ù‡ Ø§ÛŒÙ† Ø±Ø¨Ø§Øª ØªÙ†Ù‡Ø§ Ø¨Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬ÙˆÛŒ Ø³Ø§Ø¨Ù„ÛŒÙ…ÛŒÙ†Ø§Ù„â€ŒÙ‡Ø§ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ùˆ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø¯ÛŒÚ¯Ø± Ù¾Ø§Ø³Ø® Ø¯Ù‡Ø¯. Ø§Ú¯Ø± Ø³ÙˆØ§Ù„ÛŒ Ø¯Ø§Ø±ÛŒØ¯ ÛŒØ§ Ø¨Ù‡ Ú©Ù…Ú© Ù†ÛŒØ§Ø² Ø¯Ø§Ø±ÛŒØ¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø§Ø¯Ù…ÛŒÙ† Ú†Ù†Ù„ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.

Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø±Ø¨Ø§ØªØŒ ØªØ¬Ø±Ø¨Ù‡â€ŒØ§ÛŒ Ø³Ø±ÛŒØ¹ Ùˆ Ú©Ø§Ø±Ø¢Ù…Ø¯ Ø§Ø² Ø¬Ø³ØªØ¬ÙˆÛŒ Ø³Ø§Ø¨Ù„ÛŒÙ…ÛŒÙ†Ø§Ù„â€ŒÙ‡Ø§ Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø¯Ø§Ø´Øª. Ø§Ù…ÛŒØ¯ÙˆØ§Ø±ÛŒÙ… Ú©Ù‡ Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù…ÙÛŒØ¯ Ø¨Ø§Ø´Ø¯! ðŸ˜Š`, inlinekeyboard)
})

const start = (msg) => {
    const chatId = msg.chat.id;
    const userName = msg.chat.first_name
    bot.sendMessage(chatId, `ðŸª·Ø³Ù„Ø§Ù… ${userName} Ø¹Ø²ÛŒØ² Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒðŸª·\n\n âšœï¸Ù„Ø·ÙØ§ Ú©Ù„Ù…Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ø¨ÙØ±Ø³ØªÛŒØ¯: `);
    console.log(msg);
}

bot.on('callback_query', (query) => {
    const commands = query.data;
    if (commands === '/start') {
        start(query.message)
    }
})